<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pre-signed URL</title>
</head>
<body>
<!--forces jpeg file type!-->
<input type="file" id="fileInput" accept="image/jpeg">
<script>
  document.getElementById("fileInput").addEventListener('change', handleFileChange)

  function handleFileChange(event) {
    const url = 'http://images.localhost:9000/images/dummy.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=root%2F20220507%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220507T123814Z&X-Amz-Expires=604800&X-Amz-Signature=627218060ca95a97b5b0b8413ac00e4eeaf72c7adb746a0b3346e7d59665b807&X-Amz-SignedHeaders=host'
    // take the first file from FilesList
    const file = event.target.files[0]
    // Extract Content-Type & filename
    const {type} = file

    fetch(url, {
      method: 'PUT',
      headers: {
        "Content-Type": type,
      },
      body: file,
    })
      .then(console.log)
      .catch(console.error)
  }
</script>
</body>
</html>